%
%   Chapter Method
%
%   Qing-Cheng Li (r01922024 at csie dot ntu dot edu dot tw)
%   R.O.C.103.07
%
\chapter{研究方法}
\label{c:method}

本研究欲自內容串流中偵測實體的特性，
而實體的特性之一：實體間關係，則可以語句樣式表現，
因此本研究主要利用語句樣式來偵測這樣的特性是否存在。
本章節將介紹所使用的資源、
樣式比對、樣式篩選與特性歧異的問題與解決方法。

\section{以樣式偵測特性}
當我們在字裡行間要描述一個實體的特性時，
應該會有某些特定的樣式。
例如我們知道Jobs的出生地這個特性是San Francisco，
我們可能會以「Jobs was born in San Francisco」這樣的句子來表達這個概念。
而在上述句子之中「was born in」就是一個可以用來表示出生地此一實體特性的樣式，
當我們在句子中看到「was born in」時，就可以推測這個句子存在某人的出生地是某地這樣的實體特性。

基於這樣的想法，本研究將利用樣式的出現有無來決定是否存在實體特性，
設計了如圖\ref{i:process-v1}的偵測流程。

圖\ref{i:process-v1}中，首先要先有一份實體特徵與樣式的關聯表，
知道每個實體特徵可以由哪些樣式來表達。
再利用這份關係表，對文章中的句子進行比對，檢查關係表中的樣式是否有出現，
若有出現，則這篇文章可能包含樣式對映的實體特性。
樣式比對的細節會在第\ref{s:pattern-match}節中詳述。

\begin{figure}
    \centering
    \includegraphics[width=0.7\textwidth]{images/00-tmp-img}    %TODO
    \caption{以樣式偵測特性流程概念}
    \label{i:process-v1}
\end{figure}

在這個流程之中，必須要有一份實體特徵與樣式的對映表。
此一部份本研究將利用PATTY已經提供的關係釋義表，
表中包含了知識庫YAGO內定義的實體間關係、
YAGO關係的領域與範圍（表\ref{t:yago-relation}），
以及可以用來描述這個關係的樣式。

%t:yago-relation
\input{tables/yagoRela}

光是這樣的流程並不足以偵測實體特性。
使用樣式來偵測實體特性還會有樣式覆蓋度（Coverage）、
品質（Quality）、可信賴度（Reliability）與歧異性（Ambiguity）的問題。

樣式覆蓋度問題是指對於某個實體的特性，
在關係表內屬於這個實體特性的樣式佔所有可以表達該特性的樣式之比例。
例如一個實體特性可以用100種樣式來描述，
但只找出了其中70種，
這樣就沒有辦法找到以其他30種樣式來描述該特性的句子。

樣式的品質則是一個字串到底能不能夠作為一個樣式，    %FIXME
一個樣式的品質不高，那麼這樣的樣式有可能太廣泛的出現在句子之中，
致使這樣的樣式沒有辦法區辨出實體屬性。
例如PATTY關係釋義中的DBpedia:manager內的樣式「hired」就只有這一個單字，
用以描述實體特性顯得太廣泛了些，
以此擷取回的文章有包含實體特性的比例就較低。

樣式可信賴度則是一個樣式到底能不能用來表達實體特性。
例如，對於特性YAGO:diedIn，以「since worked in」來描述完全文不對題。

而為了處理樣式的品質、可信賴度問題，
應該要在圖\ref{i:process-v1}流程中的關聯表與樣式比對中增加一個樣式篩選的步驟，
篩選出可信賴、有一定品質的樣式來進行樣式比對，
此部份將於第\ref{s:select-pattern}小節說明詳細內容。

經過樣式比對後，每篇文章可能存在數個樣式，
如果在關聯表中每個樣式只對映到一個關係，
那便沒有歧義。
但一個樣式可能存在於多個實體特性的關聯表內，
例如樣式「first met with」就被PATTY認為可以表示5種特性（hasAcademicAdvisor、isKnownFor、isMarriedTo、influences、hasChild）。
因此在樣式被比對出來之後，整個偵測流程中還需要一個消歧義的步驟。
這個部份將在第\ref{s:pattern-disambiguity}節中說明。

補上了樣式篩選與消歧義後的流程圖應修正為圖\ref{i:process-v2}。
樣式比對使用的樣式是經過篩選的，
比對出來後還要進行消歧義才完成偵測實體特性之流程。
由於偵測實體特性的流程對於每一分文件都是相同，且彼此互相獨立，
因此可以平行處理文件，如圖\ref{i:process-parallel}所示，
處理內容串流的大量文件。

\begin{figure}
    \centering
    \includegraphics[width=0.7\textwidth]{images/00-tmp-img}    %TODO
    \caption{以樣式偵測特性流程}
    \label{i:process-v2}
\end{figure}

\begin{figure}
    \centering
    \includegraphics[width=0.7\textwidth]{images/00-tmp-img}    %TODO
    \caption{平行處理架構}
    \label{i:process-parallel}
\end{figure}

\section{樣式比對}
\label{s:pattern-match}

樣式比對是要自句子中找出樣式，

\section{樣式篩選}
\label{s:select-pattern}

\section{特性消歧義}
\label{s:pattern-disambiguity}

%樣式比對
%
%\section{}
%
%一些統計
%
%比對出來就是了嗎？其實不是，會有：
%* 歧義
%* 

%
%
%   砍掉重練...
%
%

% Pattern Extraction
% Pattern Matching
%   O(mn)?
% Some statistics e.g. how many pattern, how long, ...etc

%利用PATTY所提供的關係與樣式，本研究假設當在文句中看到一個樣式時，
%該處便存在該樣式於PATTY中所屬的關係，亦即實體特性。
%本研究將嘗試利用樣式來偵測表\ref{t:yago-relation}中的YAGO關係是否存在一份文件之中。

%
%\subsection{偵測步驟}
%
%本研究自內容串流的文件中偵測實體特性的偵測步驟主要可以分成兩大步驟 ：
%(1)樣式比對（Pattern Matching）與(2)特性篩選（Property Filtering）。
%
%當一份文件出現時，偵測系統會先將
%
%\section{樣式比對}
%
%\section{特性篩選}
%
%\section{}
%\section{消除歧義}


